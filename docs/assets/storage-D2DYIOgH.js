import{D as e,R as t,b as n,h as r,i,k as a,n as o,r as s,v as c,w as l,x as u}from"./vendor-37PY1DHN.js";var d={class:`card bg-base-100 shadow-xl w-full sm:max-w-xl max-h-[80vh] overflow-auto`},f={class:`card-body`},p={class:`flex items-center justify-between gap-3`},m={class:`font-semibold truncate`},h=l({__name:`Modal`,props:{open:{type:Boolean},title:{}},emits:[`close`],setup(i){return(o,s)=>i.open?(e(),u(`div`,{key:0,class:`fixed inset-0 z-50 bg-black/40 flex items-end sm:items-center justify-center p-3`,onClick:s[1]||=r(e=>o.$emit(`close`),[`self`])},[c(`div`,d,[c(`div`,f,[c(`div`,p,[c(`div`,m,t(i.title),1),c(`button`,{class:`btn btn-ghost btn-sm`,onClick:s[0]||=e=>o.$emit(`close`)},`Close`)]),s[2]||=c(`div`,{class:`divider my-2`},null,-1),a(o.$slots,`default`)])])])):n(``,!0)}}),g={meta:`meta:v1`,books:`books:v1`,bookFile:e=>`bf:${e}`,prefs:e=>`prefs:${e}`,sessions:e=>`sess:${e}`,search:e=>`search:${e}`};const _={bg:`#ffffff`,fg:`#111827`,font:`ui-serif, Georgia, "Times New Roman", Times, serif`,fontSizePct:110,lineHeight:1.55,marginEm:1.2,studyMode:!1,textAlign:`justify`,noterefColor:`#2563eb`,noterefUnderline:!0};async function v(){return!!(await s(g.meta)??{}).onboarded}async function y(){let e=await s(g.meta)??{};e.onboarded=!0,await i(g.meta,e)}async function b(){return await s(g.books)??[]}async function x(e){let t=e.map(e=>({...e}));await i(g.books,t)}async function S(e,t){await i(g.bookFile(e),t)}async function C(e){return await s(g.bookFile(e))??null}async function w(e){await x((await b()).filter(t=>t.id!==e)),await o(g.bookFile(e)),await o(g.prefs(e)),await o(g.sessions(e)),await o(g.search(e))}async function T(e){let t=await s(g.prefs(e));return{..._,...t??{}}}async function E(e,t){let n={...t};await i(g.prefs(e),n)}async function D(e){return await s(g.search(e))??null}async function O(e,t){await i(g.search(e),t)}export{b as a,S as c,O as d,y as f,C as i,x as l,w as n,T as o,h as p,v as r,D as s,_ as t,E as u};