import{C as e,D as t,F as n,I as r,L as i,N as a,O as o,S as s,_ as c,b as l,g as u,k as d,u as f,v as p,w as m,x as h,y as g,z as _}from"./vendor-BQYTT8JO.js";import{a as v,c as y,f as ee,l as b,n as x,p as S,r as C}from"./storage-KKhvUxvV.js";var w={class:`fixed inset-0 bg-base-100 flex items-center justify-center p-6`},T={class:`max-w-md w-full`},E={class:`card bg-base-200 shadow-xl`},D={class:`card-body`},O={class:`text-xl font-semibold`},k={class:`opacity-80 mt-2`},A={class:`mt-6 flex items-center justify-between`},j={class:`mt-4 flex gap-2 justify-center`},M=m({__name:`Onboarding`,emits:[`done`],setup(e,{emit:t}){let r=t,a=[{title:`Import any EPUB`,text:`Add books from your device. Everything stays local.`},{title:`Tap for pop-ups`,text:`Footnotes/glossary open as a popup. Fallback dictionary is available too.`},{title:`Search + Study Mode`,text:`Full-text search, themes, fonts, and a distraction-free study mode.`},{title:`Read aloud + Analytics`,text:`Text-to-speech and reading stats per book.`}],s=n(0),l=c(()=>s.value===a.length-1);function f(){l.value?r(`done`):s.value+=1}return(e,t)=>(o(),h(`div`,w,[p(`div`,T,[p(`div`,E,[p(`div`,D,[p(`div`,O,_(a[s.value]?.title),1),p(`div`,k,_(a[s.value]?.text),1),p(`div`,A,[p(`button`,{class:`btn btn-ghost`,onClick:t[0]||=e=>r(`done`)},`Skip`),p(`button`,{class:`btn btn-primary`,onClick:t[1]||=e=>f()},_(l.value?`Start reading`:`Next`),1)]),p(`div`,j,[(o(),h(u,null,d(a,(e,t)=>p(`div`,{key:e.title,class:i([`w-2 h-2 rounded-full`,t===s.value?`bg-primary`:`bg-base-300`])},null,2)),64))])])]),t[2]||=p(`div`,{class:`text-xs opacity-60 mt-3 text-center`},` Tip: “Install” from your browser menu for an app-like experience. `,-1)])]))}}),N={class:`min-h-full bg-base-100`},P={class:`navbar bg-base-200 shadow-sm`},F={class:`flex-none`},I={class:`btn btn-primary btn-sm`},L={class:`p-4 max-w-4xl mx-auto`},R={key:0,class:`opacity-70`},z={class:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`},B={class:`card-body`},V={class:`font-semibold truncate`},H={class:`text-xs opacity-60`},U={class:`card-actions justify-end mt-3`},W=[`onClick`],G=[`onClick`],K={class:`text-sm space-y-2`},q={class:`space-y-4`},J={class:`text-sm leading-relaxed`},Y={class:`flex items-center justify-between`},X=[`disabled`],Z={class:`text-xs opacity-70`},Q=m({__name:`Home`,setup(i){let m=n(!1),w=c(()=>new Date(`2025-12-29T00:33:09.350Z`).toLocaleDateString(`en-US`,{year:`numeric`,month:`long`,day:`numeric`})),T=f(),E=n([]),D=n(!1),O=n(!1),k=n(0),A=[{title:`Import an EPUB`,body:`Tap “Import EPUB” to add a book from your device.`},{title:`Open a book`,body:`Tap a book cover/title to enter the reader.`},{title:`Glossary popups`,body:`Tap underlined glossary/footnote links to see the definition popup.`},{title:`Search`,body:`Use search to find text and jump directly to the match.`},{title:`Study mode`,body:`Enable Study Mode, then tap once on the page to show/hide controls.`}],j=c(()=>A[k.value]??A[0]);function Q(){k.value=0,O.value=!0}function te(){k.value<A.length-1&&k.value++}function ne(){k.value>0&&k.value--}function $(){O.value=!1}t(async()=>{E.value=await v(),D.value=!await C()});async function re(e){let t=e.target,n=t.files?.[0];if(!n)return;let r=crypto.randomUUID?.()??`${Date.now()}-${Math.random()}`,i={id:r,title:n.name.replace(/\.epub$/i,``),addedAt:Date.now()};await y(r,n),E.value=[i,...E.value],await b(E.value),t.value=``,T.push(`/read/${encodeURIComponent(r)}`)}async function ie(e){T.push(`/read/${encodeURIComponent(e)}`)}async function ae(e){await x(e),E.value=await v()}async function oe(){await ee(),D.value=!1}return(t,n)=>(o(),h(`div`,N,[p(`div`,P,[n[6]||=p(`div`,{class:`flex-1 px-2 text-lg font-semibold`},`Ebook Reader Ansari Publications`,-1),p(`div`,{class:`alert alert-info rounded-none flex items-center justify-between`},[n[3]||=p(`div`,{class:`flex items-center gap-2`},[p(`span`,{class:`font-semibold`},`Onboarding Tour`),p(`span`,{class:`text-sm opacity-80 hidden sm:inline`},`Quick guide to get started.`)],-1),p(`button`,{class:`btn btn-sm`,onClick:Q},`Start`)]),p(`div`,F,[p(`label`,I,[n[4]||=s(` Import EPUB `,-1),p(`input`,{type:`file`,accept:`.epub`,class:`hidden`,onChange:re},null,32)]),p(`button`,{class:`btn btn-ghost btn-sm`,onClick:n[0]||=e=>m.value=!0,"aria-label":`About`},[...n[5]||=[p(`svg`,{xmlns:`http://www.w3.org/2000/svg`,class:`h-5 w-5`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`},[p(`circle`,{cx:`12`,cy:`12`,r:`9`}),p(`path`,{d:`M12 10v7`}),p(`path`,{d:`M12 7h.01`})],-1)]])])]),p(`div`,L,[E.value.length===0?(o(),h(`div`,R,` Import an EPUB to start. `)):l(``,!0),p(`div`,z,[(o(!0),h(u,null,d(E.value,e=>(o(),h(`div`,{key:e.id,class:`card bg-base-200 shadow`},[p(`div`,B,[p(`div`,V,_(e.title),1),p(`div`,H,_(new Date(e.addedAt).toLocaleString()),1),p(`div`,U,[p(`button`,{class:`btn btn-ghost btn-sm`,onClick:t=>ae(e.id)},`Remove`,8,W),p(`button`,{class:`btn btn-primary btn-sm`,onClick:t=>ie(e.id)},`Open`,8,G)])])]))),128))])]),D.value?(o(),g(M,{key:0,onDone:oe})):l(``,!0),e(S,{open:m.value,title:`About ERAP`,onClose:n[1]||=e=>m.value=!1},{default:a(()=>[p(`div`,K,[p(`div`,null,[n[7]||=p(`span`,{class:`font-semibold`},`Version:`,-1),s(` `+_(r(`0.05`)),1)]),p(`div`,null,[n[8]||=p(`span`,{class:`font-semibold`},`Built:`,-1),s(` `+_(w.value),1)])])]),_:1},8,[`open`]),e(S,{open:O.value,title:j.value.title,onClose:$},{default:a(()=>[p(`div`,q,[p(`p`,J,_(j.value.body),1),p(`div`,Y,[p(`button`,{class:`btn btn-sm`,disabled:k.value===0,onClick:ne},`Back`,8,X),p(`div`,Z,_(k.value+1)+` / `+_(A.length),1),p(`button`,{class:`btn btn-sm btn-primary`,onClick:n[2]||=e=>k.value===A.length-1?$():te()},_(k.value===A.length-1?`Done`:`Next`),1)])])]),_:1},8,[`open`,`title`])]))}});export{Q as default};