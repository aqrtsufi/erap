import{C as e,D as t,E as n,F as r,I as i,M as a,O as o,P as s,R as c,S as l,_ as u,b as d,g as f,u as p,v as m,w as h,x as g,y as _}from"./vendor-37PY1DHN.js";import{a as v,c as y,f as ee,l as b,n as x,p as S,r as C}from"./storage-D2DYIOgH.js";var w={class:`fixed inset-0 bg-base-100 flex items-center justify-center p-6`},T={class:`max-w-md w-full`},E={class:`card bg-base-200 shadow-xl`},D={class:`card-body`},O={class:`text-xl font-semibold`},k={class:`opacity-80 mt-2`},A={class:`mt-6 flex items-center justify-between`},j={class:`mt-4 flex gap-2 justify-center`},M=h({__name:`Onboarding`,emits:[`done`],setup(e,{emit:n}){let r=n,a=[{title:`Import any EPUB`,text:`Add books from your device. Everything stays local.`},{title:`Tap for pop-ups`,text:`Footnotes/glossary open as a popup. Fallback dictionary is available too.`},{title:`Search + Study Mode`,text:`Full-text search, themes, fonts, and a distraction-free study mode.`},{title:`Read aloud + Analytics`,text:`Text-to-speech and reading stats per book.`}],l=s(0),d=u(()=>l.value===a.length-1);function p(){d.value?r(`done`):l.value+=1}return(e,n)=>(t(),g(`div`,w,[m(`div`,T,[m(`div`,E,[m(`div`,D,[m(`div`,O,c(a[l.value]?.title),1),m(`div`,k,c(a[l.value]?.text),1),m(`div`,A,[m(`button`,{class:`btn btn-ghost`,onClick:n[0]||=e=>r(`done`)},`Skip`),m(`button`,{class:`btn btn-primary`,onClick:n[1]||=e=>p()},c(d.value?`Start reading`:`Next`),1)]),m(`div`,j,[(t(),g(f,null,o(a,(e,t)=>m(`div`,{key:e.title,class:i([`w-2 h-2 rounded-full`,t===l.value?`bg-primary`:`bg-base-300`])},null,2)),64))])])]),n[2]||=m(`div`,{class:`text-xs opacity-60 mt-3 text-center`},` Tip: “Install” from your browser menu for an app-like experience. `,-1)])]))}}),N={class:`min-h-full bg-base-100`},P={class:`navbar bg-base-200 shadow-sm`},F={class:`flex-none`},I={class:`btn btn-primary btn-sm`},L={class:`p-4 max-w-4xl mx-auto`},R={key:0,class:`opacity-70`},z={class:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`},B={class:`card-body`},V={class:`font-semibold truncate`},H={class:`text-xs opacity-60`},U={class:`card-actions justify-end mt-3`},W=[`onClick`],G=[`onClick`],K={class:`text-sm space-y-2`},q={class:`space-y-4`},J={class:`text-sm leading-relaxed`},Y={class:`flex items-center justify-between`},X=[`disabled`],Z={class:`text-xs opacity-70`},Q=h({__name:`Home`,setup(i){let h=s(!1),w=u(()=>new Date(`2025-12-24T17:20:22.469Z`).toLocaleDateString(`en-US`,{year:`numeric`,month:`long`,day:`numeric`})),T=p(),E=s([]),D=s(!1),O=s(!1),k=s(0),A=[{title:`Import an EPUB`,body:`Tap “Import EPUB” to add a book from your device.`},{title:`Open a book`,body:`Tap a book cover/title to enter the reader.`},{title:`Glossary popups`,body:`Tap underlined glossary/footnote links to see the definition popup.`},{title:`Search`,body:`Use search to find text and jump directly to the match.`},{title:`Study mode`,body:`Enable Study Mode, then tap once on the page to show/hide controls.`}],j=u(()=>A[k.value]??A[0]);function Q(){k.value=0,O.value=!0}function te(){k.value<A.length-1&&k.value++}function ne(){k.value>0&&k.value--}function $(){O.value=!1}n(async()=>{E.value=await v(),D.value=!await C()});async function re(e){let t=e.target,n=t.files?.[0];if(!n)return;let r=crypto.randomUUID?.()??`${Date.now()}-${Math.random()}`,i={id:r,title:n.name.replace(/\.epub$/i,``),addedAt:Date.now()};await y(r,n),E.value=[i,...E.value],await b(E.value),t.value=``,T.push(`/read/${encodeURIComponent(r)}`)}async function ie(e){T.push(`/read/${encodeURIComponent(e)}`)}async function ae(e){await x(e),E.value=await v()}async function oe(){await ee(),D.value=!1}return(n,i)=>(t(),g(`div`,N,[m(`div`,P,[i[6]||=m(`div`,{class:`flex-1 px-2 text-lg font-semibold`},`Ebook Reader Ansari Publications`,-1),m(`div`,{class:`alert alert-info rounded-none flex items-center justify-between`},[i[3]||=m(`div`,{class:`flex items-center gap-2`},[m(`span`,{class:`font-semibold`},`Onboarding Tour`),m(`span`,{class:`text-sm opacity-80 hidden sm:inline`},`Quick guide to get started.`)],-1),m(`button`,{class:`btn btn-sm`,onClick:Q},`Start`)]),m(`div`,F,[m(`label`,I,[i[4]||=l(` Import EPUB `,-1),m(`input`,{type:`file`,accept:`.epub`,class:`hidden`,onChange:re},null,32)]),m(`button`,{class:`btn btn-ghost btn-sm`,onClick:i[0]||=e=>h.value=!0,"aria-label":`About`},[...i[5]||=[m(`svg`,{xmlns:`http://www.w3.org/2000/svg`,class:`h-5 w-5`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`},[m(`circle`,{cx:`12`,cy:`12`,r:`9`}),m(`path`,{d:`M12 10v7`}),m(`path`,{d:`M12 7h.01`})],-1)]])])]),m(`div`,L,[E.value.length===0?(t(),g(`div`,R,` Import an EPUB to start. `)):d(``,!0),m(`div`,z,[(t(!0),g(f,null,o(E.value,e=>(t(),g(`div`,{key:e.id,class:`card bg-base-200 shadow`},[m(`div`,B,[m(`div`,V,c(e.title),1),m(`div`,H,c(new Date(e.addedAt).toLocaleString()),1),m(`div`,U,[m(`button`,{class:`btn btn-ghost btn-sm`,onClick:t=>ae(e.id)},`Remove`,8,W),m(`button`,{class:`btn btn-primary btn-sm`,onClick:t=>ie(e.id)},`Open`,8,G)])])]))),128))])]),D.value?(t(),_(M,{key:0,onDone:oe})):d(``,!0),e(S,{open:h.value,title:`About ERAP`,onClose:i[1]||=e=>h.value=!1},{default:a(()=>[m(`div`,K,[m(`div`,null,[i[7]||=m(`span`,{class:`font-semibold`},`Version:`,-1),l(` `+c(r(`0.03`)),1)]),m(`div`,null,[i[8]||=m(`span`,{class:`font-semibold`},`Built:`,-1),l(` `+c(w.value),1)])])]),_:1},8,[`open`]),e(S,{open:O.value,title:j.value.title,onClose:$},{default:a(()=>[m(`div`,q,[m(`p`,J,c(j.value.body),1),m(`div`,Y,[m(`button`,{class:`btn btn-sm`,disabled:k.value===0,onClick:ne},`Back`,8,X),m(`div`,Z,c(k.value+1)+` / `+c(A.length),1),m(`button`,{class:`btn btn-sm btn-primary`,onClick:i[2]||=e=>k.value===A.length-1?$():te()},c(k.value===A.length-1?`Done`:`Next`),1)])])]),_:1},8,[`open`,`title`])]))}});export{Q as default};